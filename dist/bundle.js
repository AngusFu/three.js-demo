!function(){"use strict";function i(){requestAnimationFrame(i),n()}function n(){y.position.x+=.05*(w-y.position.x),y.position.y+=.05*(-p-y.position.y),y.lookAt(f.position);for(var i=0,n=0,t=0;t<a;t++)for(var r=0;r<d;r++){var c=x[i++];if(c.position.y=50*Math.sin(.3*(t+s))+50*Math.sin(.5*(r+s)),c.scale.x=c.scale.y=2*(Math.sin(.3*(t+s))+1)+2*(Math.sin(.5*(r+s))+1),t+"x"+r in l){var h=v[n++];h.y=c.position.y;var u=e(h,y),g=u.x,M=u.y,z=Math.min(Math.max(c.scale.x/4,.5),2);o.style.transform="translate3d("+g+"px, "+M+"px, 0) scale("+z+")"}}m.render(f,y),s+=.1}function e(i,n){var e=i.x,o=i.y,r=i.z,a=new t.Vector3(e,o,r).project(n);return{x:Math.round(c*(1+a.x)),y:Math.round(h*(1-a.y))}}var t=window.THREE,o=document.getElementById("test"),r=100,a=30,d=60,s=0,w=85,p=-342,c=window.innerWidth/2,h=window.innerHeight/2,l={"14x39":1},u=function(){for(var i=0,n=[],e=[],o=new t.SpriteCanvasMaterial({color:9764859,program:function(i){i.beginPath(),i.arc(0,0,.6,0,2*Math.PI,!0),i.fill()}}),s=0;s<a;s++)for(var w=0;w<d;w++){var p=new t.Sprite(o);if(p.position.x=s*r-a*r/2,p.position.z=w*r-d*r/2,n[i++]=p,s+"x"+w in l){var c=p.position,h=c.x,u=c.z;e.push({x:h,z:u})}}return{particles:n,pointsWithFlag:e}}(),x=u.particles,v=u.pointsWithFlag,f=new t.Scene,m=new t.CanvasRenderer,y=new t.PerspectiveCamera(120,window.innerWidth/window.innerHeight,1,1e4);y.position.z=1e3,x.forEach(function(i){return f.add(i)});var g=new t.AxisHelper(1e6);g.position.set(0,0,0),f.add(g),function(){var n=document.createElement("div");m.setPixelRatio(window.devicePixelRatio),m.setSize(window.innerWidth,window.innerHeight),n.appendChild(m.domElement),document.body.appendChild(n),i(),window.addEventListener("resize",function(){c=window.innerWidth/2,h=window.innerHeight/2,y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight)},!1)}()}();
//# sourceMappingURL=bundle.js.map
